<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>Resgistration</title>
	
	<link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/sb-admin.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="css/plugins/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="css/css/bootstrap.min.css" />

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="css/css/style.css" />

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

</head>

<body>
	<div id="booking" class="section">
		<div class="section-center">
			<div class="container">
			
				<div class="row">
				
					<div class="col-md-7 col-md-push-5">
					
						<div class="booking-cta">
						
					

						</div>
					</div>
					<div class="col-md-4 col-md-pull-7">
						<div class="booking-form">
							<form action="Reg" method="post">
							<span><strong><center><h2>Registration</h2></center></strong></span><br><br>
							
							<div class="form-group">
							     <input type="text" class="form-control" id="fullName" placeholder="Enter FullName" required="required">
										</div>
								
						   <div class="form-group">
							      <input type="email" class="form-control" id="userName" placeholder="Enter Email" required="required">
										</div>
							<div class="form-group">
						      <input type="password" class="form-control" id="password" placeholder="Enter password" required="required">
													</div>
							<div class="form-group">
									    <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm password" required="required">
									  	</div>
							<div class="form-group">
								      <input type="text" class="form-control" id="address" placeholder="Enter Address" required="required">
											</div>
							
										<div class="form-group">
									     <input type="text" class="form-control" id="mobileNumber" placeholder="Enter Contact Number" required="required">
									 	</div>
									
										
								<div class="form-group"> 
									    <div class="col-sm-offset-4 col-sm-8">
									      <div class="checkbox">
									        <label id="message">&nbsp;</label>
									      </div>
									    </div>
									  </div>
									 
								<div class="panel-footer">
                           	 <div class="row">
  		                        	<div class="col-md-4"></div>
  		                        		<div class="col-sm-8">
                               					<a class="btn btn-primary" href="Javascript:Register()" style="background-color: #8B4439;
    border-color: #8B4439"><span class="pull-right">Register </span></a>
                               					<a class="btn btn-link" href="UserLogin.jsp" style="color: #8B4439;"><strong>Sign-in </strong></a>
                                				<div class="clearfix"></div>
                                		</div>
                                	</div>
                            </div>
								
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
<script>
function Register()
{
	
	var xmlhttp;
    if (window.XMLHttpRequest)
    {// code for IE7+, Firefox, Chrome, Opera, Safari
    	xmlhttp=new XMLHttpRequest();
    }
    else
    {
    	// code for IE6, IE5
    	xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
    }
    xmlhttp.onreadystatechange=function()
    {
    	if(xmlhttp.readyState==4 && xmlhttp.status==200)
    	{
    		var jsonData = JSON.parse(xmlhttp.responseText);
        	if(jsonData.result==='success' && jsonData.status==='Added')
        	{	
        		window.location="UserLogin.jsp";	
        	}
    	}
    } 
    var fullName=document.getElementById("fullName").value;
    var userName=document.getElementById("userName").value;
    var password=document.getElementById("password").value;
    var confirmPassword=document.getElementById("confirmPassword").value;
    var mobileNumber=document.getElementById("mobileNumber").value;
    var address=document.getElementById("address").value;
    
    var flag=0;
    
    if(fullName===''){
    	document.getElementById("message").innerHTML="Full name Can not Be Empty";
    	flag=1;
    }
    else if(userName===''){
    	document.getElementById("message").innerHTML="User Name Can not Be Empty";
    	flag=1;
    }
    else if(password===''){
    	document.getElementById("message").innerHTML="Password Can not Be Empty";
    	flag=1;
    }
    else if(confirmPassword===''){
    	document.getElementById("message").innerHTML="ConfirmPassword Can not Be Empty";
    	flag=1;
    }
    else if(mobileNumber===''){
    	document.getElementById("message").innerHTML="mobile Number Can not Be Empty";
    	flag=1;
    }
    else if(address===''){
    	document.getElementById("message").innerHTML="Address Can not Be Empty";
    	flag=1;
    }
    else if(password!==confirmPassword)
    {	
    	document.getElementById("message").innerHTML="password not match";
    	flag=1;
    }
    else
    {
    	alert("Registered Successfully");
    }
    if(flag===0)
    {	
	    xmlhttp.open("POST","rest/UserService/addUser",true);
	    xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	    xmlhttp.send("fullName="+fullName+"&password="+password+"&userName="+userName+"&mobileNumber="+mobileNumber+"&address="+address);
    }
}

</script>
</html>